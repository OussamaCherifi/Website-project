<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Shopping Cart</title>
    <link rel="stylesheet" href="../resources/stylesheet/style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito&display=swap"
      rel="stylesheet"
    />
    <!-- link for icons -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="../resources/stylesheet/styling_cart.css" />
   
	  
	  <!-- JS for header/footer -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"
            integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script>
            $(function () {
                $('#header').load('header.html');
                $('#footer').load('footer.html');
            });
        </script>
    
  </head>
  <body>
	  <!-- HEADER -->
        <div id="header"></div>


    <!-- <div class="MyCart"> -->
    <div class="container">
      <div class="item-list">
        <h2 id="cart"><img src="../resources/img/products/shoppingCart.png" id="shoppingCartImage" alt="cart"></i> My cart</h2>
        <div id="strawberries" class="item">
          <img 
            src="../resources/img/products/strawberries.png"
            alt="apple"
            height="100"
            id="item"
          />
          <div class="popup" onclick="myFunction()"> <h3>&#63;</h3>
            <span class="popuptext" id="myPopup"><h5>
            This is a sample description of the product 1</h5></span>
          </div>
          <input
            class="inputs"
            onclick="updateTotalItems(strawberries)"
            type="number"
            id="strawberries-quantity"
            min="0"
            step="1"
            value="0"
          />
          <div class="price-item">
            <h5 id="strawberries-totalPrice">Price: $0,00</h5>
          </div>
          
          <input onclick="removeItem(strawberries)" type="submit" value="&#9747" class="x" id="strawberries-x" />
           </div>
        <div id="oranges" class="item">
          <img 
          src="../resources/img/products/oranges.png"
          alt="apple"
          height="100"
          id="item"
        />
        
        <div class="popup" onclick="myFunction()"> <h3>&#63;</h3>
          <span class="popuptext" id="myPopup"><h5>
          This is a sample description of the product 2</h5></span>
        </div>
        <input
          class="inputs"
          onclick="updateTotalItems(oranges)"
          type="number"
          id="oranges-quantity"     
          min="0"
          step="1"
          value="0"
        />
        <div class="price-item">
        <h5 id="oranges-totalPrice">Price: $0,00</h5>
        </div>
          
        <input onclick="removeItem(oranges)" type="submit" value="&#9747" class="x" id="oranges-x"/>
        </div>
        <div id="grapes" class="item">
          <img 
          src="../resources/img/products/grapes.png"
          alt="apple"
          height="100"
          id="item"
        />
        <div class="popup" onclick="myFunction()"> <h3>&#63;</h3>
          <span class="popuptext" id="myPopup"><h5>
          This is a sample description of the product3</h5></span>
        </div>
        <input
          class="inputs"
          onclick="updateTotalItems(grapes)"
          type="number"
          id="grapes-quantity"
          min="0"
          step="1"
          value="0"
        />
         <div class="price-item">
        <h5 id="grapes-totalPrice">Price: $0,00</h5>
        </div> 
        <input onclick="removeItem(grapes)" type="submit" value="&#9747" class="x" id="grapes-x"/>
        </div>
        <div id="Banana" class="item">
          <img 
          src="../resources/img/products/banana.png"
          alt="apple"
          height="100"
          id="item"
        />
        
        <div class="popup" onclick="myFunction()"> <h3>&#63;</h3>
          <span class="popuptext" id="myPopup"><h5>
          This is a sample description of the product</h5></span>
        </div>
        <input
          class="inputs"
          onclick="updateTotalItems(Banana)"     
          type="number"
          id="Banana-quantity"
          min="0"
          step="1"
          value="0"
        />
        <div class="price-item">
        <h5 id="Banana-totalPrice">Price: $0,00</h5>
        </div>    
        <input  onclick="removeItem(Banana)" type="submit" value="&#9747" class="x" id="Banana" />
        </div>
      </div>

      <div class="orderSummary">
        <h2 id="order"> &#9777; Order Summary</h2>
        <h3 id="l1">Total items: 0</h3>
        <h3 id="l2">Subtotal: </h3>
        <h3 id="l3">Estimated QST(9.975): $0,00</h3>
        <h3 id="l4">Estimated GST(5%): $0,00</h3>
        <h3 id="l5">Total: $0,00</h3>
        <hr class="l6" />

        <input type="submit" value="Checkout" id="buttonCheckout" />
      </div>
      <script>
        // When the user clicks on div, open the popup
        function myFunction() {
          var popup = document.getElementById("myPopup");
          popup.classList.toggle("show");
        }
        </script>
    </div>

<!-- FOOTER -->
        <div id="footer"></div>

  </body>

	
  <script>
    function updateTotalItems(idToUse){
      
      var quantity1 = parseInt(document.getElementById("strawberries-quantity").value);
      var quantity2 = parseInt(document.getElementById("oranges-quantity").value);
      var quantity3 = parseInt(document.getElementById("grapes-quantity").value);
      var quantity4 = parseInt(document.getElementById("Banana-quantity").value);
      let totalItems = parseInt(quantity1 += quantity2 += quantity3 += quantity4);
      
      var label = "Total items: ";
      document.getElementById("l1").innerHTML = label + totalItems;
      var PriceLabel = "Price: $"
      var Subtotal = 0;
      
      if(idToUse = strawberries){
        
        let unitPrice = 4.50;
        var quantity = parseInt(document.getElementById("strawberries-quantity").value);
        var itemTotalPrice = unitPrice * quantity;
        Subtotal +=itemTotalPrice;
        document.getElementById("strawberries-totalPrice").innerHTML = PriceLabel + itemTotalPrice;
      }
      if(idToUse = oranges){
        let unitPrice = 5.75;
        var quantity = parseInt(document.getElementById("oranges-quantity").value);
        var itemTotalPrice = unitPrice * quantity;
        Subtotal +=itemTotalPrice;
        document.getElementById("oranges-totalPrice").innerHTML = PriceLabel + itemTotalPrice;
      }
      if(idToUse = grapes){
        let unitPrice = 5;
        var quantity = parseInt(document.getElementById("grapes-quantity").value);
        var itemTotalPrice = unitPrice * quantity;
        Subtotal +=itemTotalPrice;
        document.getElementById("grapes-totalPrice").innerHTML = PriceLabel + itemTotalPrice;
      }
      if(idToUse = Banana){
        let unitPrice = 3.75;
        var quantity = parseInt(document.getElementById("Banana-quantity").value);
        var itemTotalPrice = unitPrice * quantity;
        Subtotal += itemTotalPrice;
        document.getElementById("Banana-totalPrice").innerHTML = PriceLabel + itemTotalPrice;
      }
      var qst = (0.09975 * Subtotal).toFixed(2);
      var gst = (0.05 * Subtotal).toFixed(2);
      var FinalTotalPRice = parseFloat(Subtotal) + parseFloat(qst) + parseFloat(gst);
      
      document.getElementById("l3").innerHTML = "Estimated QST(9.975%: $)" + qst;
      document.getElementById("l4").innerHTML = "Estimated GST(5%: $)" + gst;
      document.getElementById("l5").innerHTML = "total: $" + FinalTotalPRice.toFixed(2);
    }
  </script>
 <script>
  function removeItem(btnParent){

    if(btnParent = oranges){
      console.log(btnParent);
      var divToRemove = document.getElementById("oranges");
      divToRemove.parentNode.removeChild(divToRemove);
    }
    if(btnParent = strawberries){
      console.log(btnParent);
      var divToRemove = document.getElementById("oranges");
      divToRemove.parentNode.removeChild(divToRemove);
    
    }
    
    if(btnParent = grapes){
      console.log(btnParent);
      var divToRemove = document.getElementById("grapes");
      divToRemove.parentNode.removeChild(divToRemove);
    
    }
    if(btnParent = Banana){
      console.log(btnParent);
      var divToRemove = document.getElementById("Banana");
      divToRemove.parentNode.removeChild(divToRemove);
    
    }


      
    }


  </script>
</html>
